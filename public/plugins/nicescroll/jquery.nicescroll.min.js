/* nicescroll v3.7.3 InuYaksa - MIT - https://nicescroll.areaaperta.com */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";var o=!1,t=!1,r=0,i=2e3,s=0,n=e,l=document,a=n(window);var c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||!1,d=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||!1;if(c)window.cancelAnimationFrame||(d=function(e){});else{var u=0;c=function(e,o){var t=(new Date).getTime(),r=Math.max(0,16-(t-u)),i=window.setTimeout(function(){e(t+r)},r);return u=t+r,i},d=function(e){window.clearTimeout(e)}}var h,p,m,f=window.MutationObserver||window.WebKitMutationObserver||!1,g=Date.now||function(){return(new Date).getTime()},w={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"6px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,emulatetouch:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:(p=l.currentScript||!!(h=l.getElementsByTagName("script")).length&&h[h.length-1],m=p?p.src.split("?")[0]:"",m.split("/").length>0?m.split("/").slice(0,-1).join("/")+"/":""),preventmultitouchscrolling:!0,disablemutationobserver:!1,enableobserver:!0,scrollbarid:!1},v=!1,b=function(e,u){var h=this;this.version="3.7.3",this.name="nicescroll",this.me=u;var p=n("body");if(this.opt={doc:p,win:!1},n.extend(this.opt,w),this.opt.snapbackspeed=80,e)for(var m in h.opt)void 0!==e[m]&&(h.opt[m]=e[m]);if(h.opt.disablemutationobserver&&(f=!1),this.doc=h.opt.doc,this.iddoc=this.doc&&this.doc[0]&&this.doc[0].id||"",this.ispage=/^BODY|HTML/.test(h.opt.win?h.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==h.opt.win,this.win=h.opt.win||(this.ispage?a:this.doc),this.docscroll=this.ispage&&!this.haswrapper?a:this.win,this.body=p,this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=h.opt.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,"auto"==this.opt.rtlmode){var b=this.win[0]==window?this.body:this.win,x=b.css("writing-mode")||b.css("-webkit-writing-mode")||b.css("-ms-writing-mode")||b.css("-moz-writing-mode");"horizontal-tb"==x||"lr-tb"==x||""==x?(this.isrtlmode="rtl"==b.css("direction"),this.isvertical=!1):(this.isrtlmode="vertical-rl"==x||"tb"==x||"tb-rl"==x||"rl-tb"==x,this.isvertical="vertical-rl"==x||"tb"==x||"tb-rl"==x)}else this.isrtlmode=!0===this.opt.rtlmode,this.isvertical=!1;if(this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1,this.observerbody=!1,!1===h.opt.scrollbarid)do{this.id="ascrail"+i++}while(l.getElementById(this.id));else this.id=h.opt.scrollbarid;this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.visibility=!0,this.railslocked=!1,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=h.opt.overflowx,this.overflowy=h.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=function(){if(v)return v;var e=l.createElement("DIV"),o=e.style,t=navigator.userAgent,r=navigator.platform,i={};return i.haspointerlock="pointerLockElement"in l||"webkitPointerLockElement"in l||"mozPointerLockElement"in l,i.isopera="opera"in window,i.isopera12=i.isopera&&"getUserMedia"in navigator,i.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini),i.isie="all"in l&&"attachEvent"in e&&!i.isopera,i.isieold=i.isie&&!("msInterpolationMode"in o),i.isie7=i.isie&&!i.isieold&&(!("documentMode"in l)||7===l.documentMode),i.isie8=i.isie&&"documentMode"in l&&8===l.documentMode,i.isie9=i.isie&&"performance"in window&&9===l.documentMode,i.isie10=i.isie&&"performance"in window&&10===l.documentMode,i.isie11="msRequestFullscreen"in e&&l.documentMode>=11,i.ismsedge="msCredentials"in window,i.ismozilla="MozAppearance"in o,i.iswebkit=!i.ismsedge&&"WebkitAppearance"in o,i.ischrome=i.iswebkit&&"chrome"in window,i.ischrome38=i.ischrome&&"touchAction"in o,i.ischrome22=!i.ischrome38&&i.ischrome&&i.haspointerlock,i.ischrome26=!i.ischrome38&&i.ischrome&&"transition"in o,i.cantouch="ontouchstart"in l.documentElement||"ontouchstart"in window,i.hasw3ctouch=!!window.PointerEvent&&(navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0),i.hasmstouch=!i.hasw3ctouch&&(window.MSPointerEvent||!1),i.ismac=/^mac$/i.test(r),i.isios=i.cantouch&&/iphone|ipad|ipod/i.test(r),i.isios4=i.isios&&!("seal"in Object),i.isios7=i.isios&&"webkitHidden"in l,i.isios8=i.isios&&"hidden"in l,i.isios10=i.isios&&window.Proxy,i.isandroid=/android/i.test(t),i.haseventlistener="addEventListener"in e,i.trstyle=!1,i.hastransform=!1,i.hastranslate3d=!1,i.transitionstyle=!1,i.hastransition=!1,i.transitionend=!1,i.trstyle="transform",i.hastransform="transform"in o||function(){for(var e=["msTransform","webkitTransform","MozTransform","OTransform"],t=0,r=e.length;t<r;t++)if(void 0!==o[e[t]]){i.trstyle=e[t];break}i.hastransform=!!i.trstyle}(),i.hastransform&&(o[i.trstyle]="translate3d(1px,2px,3px)",i.hastranslate3d=/translate3d/.test(o[i.trstyle])),i.transitionstyle="transition",i.prefixstyle="",i.transitionend="transitionend",i.hastransition="transition"in o||function(){i.transitionend=!1;for(var e=["webkitTransition","msTransition","MozTransition","OTransition","OTransition","KhtmlTransition"],t=["-webkit-","-ms-","-moz-","-o-","-o","-khtml-"],r=["webkitTransitionEnd","msTransitionEnd","transitionend","otransitionend","oTransitionEnd","KhtmlTransitionEnd"],s=0,n=e.length;s<n;s++)if(e[s]in o){i.transitionstyle=e[s],i.prefixstyle=t[s],i.transitionend=r[s];break}i.ischrome26&&(i.prefixstyle=t[1]),i.hastransition=i.transitionstyle}(),i.cursorgrabvalue=function(){var e=["grab","-webkit-grab","-moz-grab"];(i.ischrome&&!i.ischrome38||i.isie)&&(e=[]);for(var t=0,r=e.length;t<r;t++){var s=e[t];if(o.cursor=s,o.cursor==s)return s}return"url(https://cdnjs.cloudflare.com/ajax/libs/slider-pro/1.3.0/css/images/openhand.cur),n-resize"}(),i.hasmousecapture="setCapture"in e,i.hasMutationObserver=!1!==f,e=null,v=i,i}();var S=n.extend({},this.detected);this.canhwscroll=S.hastransform&&h.opt.hwacceleration,this.ishwscroll=this.canhwscroll&&h.haswrapper,this.isrtlmode?this.isvertical?this.hasreversehr=!(S.iswebkit||S.isie||S.isie11):this.hasreversehr=!(S.iswebkit||S.isie&&!S.isie10&&!S.isie11):this.hasreversehr=!1,this.istouchcapable=!1,(S.cantouch||!S.hasw3ctouch&&!S.hasmstouch)&&(!S.cantouch||S.isios||S.isandroid||!S.iswebkit&&!S.ismozilla)||(this.istouchcapable=!0),h.opt.enablemouselockapi||(S.hasmousecapture=!1,S.haspointerlock=!1),this.debounced=function(e,o,t){h&&(h.delaylist[e]||!1||(h.delaylist[e]={h:c(function(){h.delaylist[e].fn.call(h),h.delaylist[e]=!1},t)},o.call(h)),h.delaylist[e].fn=o)};var z=!1;this.synched=function(e,o){return h.synclist[e]=o,z||(c(function(){if(h)for(var e in z=!1,h.synclist){var o=h.synclist[e];o&&o.call(h),h.synclist[e]=!1}}),z=!0),e},this.unsynched=function(e){h.synclist[e]&&(h.synclist[e]=!1)},this.css=function(e,o){for(var t in o)h.saved.css.push([e,t,e.css(t)]),e.css(t,o[t])},this.scrollTop=function(e){return void 0===e?h.getScrollTop():h.setScrollTop(e)},this.scrollLeft=function(e){return void 0===e?h.getScrollLeft():h.setScrollLeft(e)};var k=function(e,o,t,r,i,s,n){this.st=e,this.ed=o,this.spd=t,this.p1=r||0,this.p2=i||1,this.p3=s||0,this.p4=n||1,this.ts=g(),this.df=this.ed-this.st};function T(){var e=h.doc.css(S.trstyle);return!(!e||"matrix"!=e.substr(0,6))&&e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}if(k.prototype={B2:function(e){return 3*e*e*(1-e)},B3:function(e){return 3*e*(1-e)*(1-e)},B4:function(e){return(1-e)*(1-e)*(1-e)},getNow:function(){var e=1-(g()-this.ts)/this.spd,o=this.B2(e)+this.B3(e)+this.B4(e);return e<0?this.ed:this.st+Math.round(this.df*o)},update:function(e,o){return this.st=this.getNow(),this.ed=e,this.spd=o,this.ts=g(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},S.hastranslate3d&&S.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(e){if(!e){var o=T();if(o)return 16==o.length?-o[13]:-o[5];if(h.timerscroll&&h.timerscroll.bz)return h.timerscroll.bz.getNow()}return h.doc.translate.y},this.getScrollLeft=function(e){if(!e){var o=T();if(o)return 16==o.length?-o[12]:-o[4];if(h.timerscroll&&h.timerscroll.bh)return h.timerscroll.bh.getNow()}return h.doc.translate.x},this.notifyScrollEvent=function(e){var o=l.createEvent("UIEvents");o.initUIEvent("scroll",!1,!0,window,1),o.niceevent=!0,e.dispatchEvent(o)};var M=this.isrtlmode?1:-1;S.hastranslate3d&&h.opt.enabletranslate3d?(this.setScrollTop=function(e,o){h.doc.translate.y=e,h.doc.translate.ty=-1*e+"px",h.doc.css(S.trstyle,"translate3d("+h.doc.translate.tx+","+h.doc.translate.ty+",0)"),o||h.notifyScrollEvent(h.win[0])},this.setScrollLeft=function(e,o){h.doc.translate.x=e,h.doc.translate.tx=e*M+"px",h.doc.css(S.trstyle,"translate3d("+h.doc.translate.tx+","+h.doc.translate.ty+",0)"),o||h.notifyScrollEvent(h.win[0])}):(this.setScrollTop=function(e,o){h.doc.translate.y=e,h.doc.translate.ty=-1*e+"px",h.doc.css(S.trstyle,"translate("+h.doc.translate.tx+","+h.doc.translate.ty+")"),o||h.notifyScrollEvent(h.win[0])},this.setScrollLeft=function(e,o){h.doc.translate.x=e,h.doc.translate.tx=e*M+"px",h.doc.css(S.trstyle,"translate("+h.doc.translate.tx+","+h.doc.translate.ty+")"),o||h.notifyScrollEvent(h.win[0])})}else this.getScrollTop=function(){return h.docscroll.scrollTop()},this.setScrollTop=function(e){return setTimeout(function(){h&&h.docscroll.scrollTop(e)},1)},this.getScrollLeft=function(){return h.hasreversehr?h.detected.ismozilla?h.page.maxw-Math.abs(h.docscroll.scrollLeft()):h.page.maxw-h.docscroll.scrollLeft():h.docscroll.scrollLeft()},this.setScrollLeft=function(e){return setTimeout(function(){if(h)return h.hasreversehr&&(e=h.detected.ismozilla?-(h.page.maxw-e):h.page.maxw-e),h.docscroll.scrollLeft(e)},1)};this.getTarget=function(e){return!!e&&(e.target?e.target:!!e.srcElement&&e.srcElement)},this.hasParent=function(e,o){if(!e)return!1;for(var t=e.target||e.srcElement||e||!1;t&&t.id!=o;)t=t.parentNode||!1;return!1!==t};var E={thin:1,medium:3,thick:5};function L(e,o,t){var r=e.css(o),i=parseFloat(r);if(isNaN(i)){var s=3==(i=E[r]||0)?t?h.win.outerHeight()-h.win.innerHeight():h.win.outerWidth()-h.win.innerWidth():1;return h.isie8&&i&&(i+=1),s?i:0}return i}function C(e,o,t,r){h._bind(e,o,function(r){var i={original:r=r||window.event,target:r.target||r.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==r.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return r.preventDefault?r.preventDefault():r.returnValue=!1,!1},stopImmediatePropagation:function(){r.stopImmediatePropagation?r.stopImmediatePropagation():r.cancelBubble=!0}};return"mousewheel"==o?(r.wheelDeltaX&&(i.deltaX=-.025*r.wheelDeltaX),r.wheelDeltaY&&(i.deltaY=-.025*r.wheelDeltaY),!i.deltaY&&!i.deltaX&&(i.deltaY=-.025*r.wheelDelta)):i.deltaY=r.detail,t.call(e,i)},r)}this.getDocumentScrollOffset=function(){return{top:window.pageYOffset||l.documentElement.scrollTop,left:window.pageXOffset||l.documentElement.scrollLeft}},this.getOffset=function(){if(h.isfixed){var e=h.win.offset(),o=h.getDocumentScrollOffset();return e.top-=o.top,e.left-=o.left,e}var t=h.win.offset();if(!h.viewport)return t;var r=h.viewport.offset();return{top:t.top-r.top,left:t.left-r.left}},this.updateScrollBar=function(e){var o,t;if(h.ishwscroll)h.rail.css({height:h.win.innerHeight()-(h.opt.railpadding.top+h.opt.railpadding.bottom)}),h.railh&&h.railh.css({width:h.win.innerWidth()-(h.opt.railpadding.left+h.opt.railpadding.right)});else{var r=h.getOffset();if((o={top:r.top,left:r.left-(h.opt.railpadding.left+h.opt.railpadding.right)}).top+=L(h.win,"border-top-width",!0),o.left+=h.rail.align?h.win.outerWidth()-L(h.win,"border-right-width")-h.rail.width:L(h.win,"border-left-width"),(t=h.opt.railoffset)&&(t.top&&(o.top+=t.top),t.left&&(o.left+=t.left)),h.railslocked||h.rail.css({top:o.top,left:o.left,height:(e?e.h:h.win.innerHeight())-(h.opt.railpadding.top+h.opt.railpadding.bottom)}),h.zoom&&h.zoom.css({top:o.top+1,left:1==h.rail.align?o.left-20:o.left+h.rail.width+4}),h.railh&&!h.railslocked){o={top:r.top,left:r.left},(t=h.opt.railhoffset)&&(t.top&&(o.top+=t.top),t.left&&(o.left+=t.left));var i=h.railh.align?o.top+L(h.win,"border-top-width",!0)+h.win.innerHeight()-h.railh.height:o.top+L(h.win,"border-top-width",!0),s=o.left+L(h.win,"border-left-width");h.railh.css({top:i-(h.opt.railpadding.top+h.opt.railpadding.bottom),left:s,width:h.railh.width})}}},this.doRailClick=function(e,o,t){var r,i,s,n;h.railslocked||(h.cancelEvent(e),"pageY"in e||(e.pageX=e.clientX+l.documentElement.scrollLeft,e.pageY=e.clientY+l.documentElement.scrollTop),o?(r=t?h.doScrollLeft:h.doScrollTop)(s=t?(e.pageX-h.railh.offset().left-h.cursorwidth/2)*h.scrollratio.x:(e.pageY-h.rail.offset().top-h.cursorheight/2)*h.scrollratio.y):(r=t?h.doScrollLeftBy:h.doScrollBy,s=t?h.scroll.x:h.scroll.y,n=t?e.pageX-h.railh.offset().left:e.pageY-h.rail.offset().top,i=t?h.view.w:h.view.h,r(s>=n?i:-i)))},h.hasanimationframe="requestAnimationFrame"in window,h.hascancelanimationframe="cancelAnimationFrame"in window,this.init=function(){if(h.saved.css=[],S.isoperamini)return!0;if(S.isandroid&&!("hidden"in l))return!0;h.opt.emulatetouch=h.opt.emulatetouch||h.opt.touchbehavior;var e={"overflow-y":"hidden"};if((S.isie11||S.isie10)&&(e["-ms-overflow-style"]="none"),h.zindex="auto",h.ispage||"auto"!=h.opt.zindex?h.zindex=h.opt.zindex:h.zindex=function(){var e=h.win;if("zIndex"in e)return e.zIndex();for(;e.length>0;){if(9==e[0].nodeType)return!1;var o=e.css("zIndex");if(!isNaN(o)&&0!=o)return parseInt(o);e=e.parent()}return!1}()||"auto",!h.ispage&&"auto"!=h.zindex&&h.zindex>s&&(s=h.zindex),h.isie&&0==h.zindex&&"auto"==h.opt.zindex&&(h.zindex="auto"),!h.ispage||!S.cantouch&&!S.isieold){var i=h.docscroll;h.ispage&&(i=h.haswrapper?h.win:h.doc),h.css(i,e),h.ispage&&(S.isie11||S.isie)&&h.css(n("html"),e),!S.isios||h.ispage||h.haswrapper||h.css(p,{"-webkit-overflow-scrolling":"touch"}),(v=n(l.createElement("div"))).css({position:"relative",top:0,float:"right",width:h.opt.cursorwidth,height:0,"background-color":h.opt.cursorcolor,border:h.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":h.opt.cursorborderradius,"-moz-border-radius":h.opt.cursorborderradius,"border-radius":h.opt.cursorborderradius}),v.addClass("nicescroll-cursors"),h.cursor=v;var c=n(l.createElement("div"));c.attr("id",h.id),c.addClass("nicescroll-rails nicescroll-rails-vr");var d,u,m=["left","right","top","bottom"];for(var g in m)u=m[g],(d=h.opt.railpadding[u])?c.css("padding-"+u,d+"px"):h.opt.railpadding[u]=0;c.append(v),c.width=Math.max(parseFloat(h.opt.cursorwidth),v.outerWidth()),c.css({width:c.width+"px",zIndex:h.zindex,background:h.opt.background,cursor:"default"}),c.visibility=!0,c.scrollable=!0,c.align="left"==h.opt.railalign?0:1,h.rail=c,h.rail.drag=!1;var w,v,b=!1;if(!h.opt.boxzoom||h.ispage||S.isieold||(b=l.createElement("div"),h.bind(b,"click",h.doZoom),h.bind(b,"mouseenter",function(){h.zoom.css("opacity",h.opt.cursoropacitymax)}),h.bind(b,"mouseleave",function(){h.zoom.css("opacity",h.opt.cursoropacitymin)}),h.zoom=n(b),h.zoom.css({cursor:"pointer",zIndex:h.zindex,backgroundImage:"url("+h.opt.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0 0"}),h.opt.dblclickzoom&&h.bind(h.win,"dblclick",h.doZoom),S.cantouch&&h.opt.gesturezoom&&(h.ongesturezoom=function(e){return e.scale>1.5&&h.doZoomIn(e),e.scale<.8&&h.doZoomOut(e),h.cancelEvent(e)},h.bind(h.win,"gestureend",h.ongesturezoom))),h.railh=!1,h.opt.horizrailenabled)h.css(i,{overflowX:"hidden"}),(v=n(l.createElement("div"))).css({position:"absolute",top:0,height:h.opt.cursorwidth,width:0,backgroundColor:h.opt.cursorcolor,border:h.opt.cursorborder,backgroundClip:"padding-box","-webkit-border-radius":h.opt.cursorborderradius,"-moz-border-radius":h.opt.cursorborderradius,"border-radius":h.opt.cursorborderradius}),S.isieold&&v.css("overflow","hidden"),v.addClass("nicescroll-cursors"),h.cursorh=v,(w=n(l.createElement("div"))).attr("id",h.id+"-hr"),w.addClass("nicescroll-rails nicescroll-rails-hr"),w.height=Math.max(parseFloat(h.opt.cursorwidth),v.outerHeight()),w.css({height:w.height+"px",zIndex:h.zindex,background:h.opt.background}),w.append(v),w.visibility=!0,w.scrollable=!0,w.align="top"==h.opt.railvalign?0:1,h.railh=w,h.railh.drag=!1;if(h.ispage)c.css({position:"fixed",top:0,height:"100%"}),c.align?c.css({right:0}):c.css({left:0}),h.body.append(c),h.railh&&(w.css({position:"fixed",left:0,width:"100%"}),w.align?w.css({bottom:0}):w.css({top:0}),h.body.append(w));else{if(h.ishwscroll){"static"==h.win.css("position")&&h.css(h.win,{position:"relative"});var x="HTML"==h.win[0].nodeName?h.body:h.win;n(x).scrollTop(0).scrollLeft(0),h.zoom&&(h.zoom.css({position:"absolute",top:1,right:0,"margin-right":c.width+4}),x.append(h.zoom)),c.css({position:"absolute",top:0}),c.align?c.css({right:0}):c.css({left:0}),x.append(c),w&&(w.css({position:"absolute",left:0,bottom:0}),w.align?w.css({bottom:0}):w.css({top:0}),x.append(w))}else{h.isfixed="fixed"==h.win.css("position");var z=h.isfixed?"fixed":"absolute";h.isfixed||(h.viewport=h.getViewport(h.win[0])),h.viewport&&(h.body=h.viewport,0==/fixed|absolute/.test(h.viewport.css("position"))&&h.css(h.viewport,{position:"relative"})),c.css({position:z}),h.zoom&&h.zoom.css({position:z}),h.updateScrollBar(),h.body.append(c),h.zoom&&h.body.append(h.zoom),h.railh&&(w.css({position:z}),h.body.append(w))}S.isios&&h.css(h.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),S.isie&&h.opt.disableoutline&&h.win.attr("hideFocus","true"),S.iswebkit&&h.opt.disableoutline&&h.win.css("outline","none")}if(!1===h.opt.autohidemode?(h.autohidedom=!1,h.rail.css({opacity:h.opt.cursoropacitymax}),h.railh&&h.railh.css({opacity:h.opt.cursoropacitymax})):!0===h.opt.autohidemode||"leave"===h.opt.autohidemode?(h.autohidedom=n().add(h.rail),S.isie8&&(h.autohidedom=h.autohidedom.add(h.cursor)),h.railh&&(h.autohidedom=h.autohidedom.add(h.railh)),h.railh&&S.isie8&&(h.autohidedom=h.autohidedom.add(h.cursorh))):"scroll"==h.opt.autohidemode?(h.autohidedom=n().add(h.rail),h.railh&&(h.autohidedom=h.autohidedom.add(h.railh))):"cursor"==h.opt.autohidemode?(h.autohidedom=n().add(h.cursor),h.railh&&(h.autohidedom=h.autohidedom.add(h.cursorh))):"hidden"==h.opt.autohidemode&&(h.autohidedom=!1,h.hide(),h.railslocked=!1),S.cantouch||h.istouchcapable||h.opt.emulatetouch||S.hasmstouch){h.scrollmom=new y(h),h.ontouchstart=function(e){if(e.pointerType&&2!=e.pointerType&&"touch"!=e.pointerType)return!1;if(h.hasmoving=!1,!h.railslocked){var o;if(S.hasmstouch)for(o=!!e.target&&e.target;o;){var t=n(o).getNiceScroll();if(t.length>0&&t[0].me==h.me)break;if(t.length>0)return!1;if("DIV"==o.nodeName&&o.id==h.id)break;o=!!o.parentNode&&o.parentNode}if(e.stopPropagation(),h.cancelScroll(),o=h.getTarget(e))if(/INPUT/i.test(o.nodeName)&&/range/i.test(o.type))return h.stopPropagation(e);if(!("clientX"in e)&&"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),h.forcescreen){var r=e;(e={original:e.original?e.original:e}).clientX=r.screenX,e.clientY=r.screenY}if(h.rail.drag={x:e.clientX,y:e.clientY,sx:h.scroll.x,sy:h.scroll.y,st:h.getScrollTop(),sl:h.getScrollLeft(),pt:2,dl:!1,tg:o},h.ispage||!h.opt.directionlockdeadzone)h.rail.drag.dl="f";else{var i={w:a.width(),h:a.height()},s={w:Math.max(l.body.scrollWidth,l.documentElement.scrollWidth),h:Math.max(l.body.scrollHeight,l.documentElement.scrollHeight)},c=Math.max(0,s.h-i.h),d=Math.max(0,s.w-i.w);!h.rail.scrollable&&h.railh.scrollable?h.rail.drag.ck=c>0&&"v":h.rail.scrollable&&!h.railh.scrollable?h.rail.drag.ck=d>0&&"h":h.rail.drag.ck=!1,h.rail.drag.ck||(h.rail.drag.dl="f")}if(h.opt.emulatetouch&&h.isiframe&&S.isie){var u=h.win.position();h.rail.drag.x+=u.left,h.rail.drag.y+=u.top}if(h.hasmoving=!1,h.lastmouseup=!1,h.scrollmom.reset(e.clientX,e.clientY),!S.cantouch&&!this.istouchcapable&&!e.pointerType){if(!(!!o&&/INPUT|SELECT|BUTTON|TEXTAREA/i.test(o.nodeName)))return!h.ispage&&S.hasmousecapture&&o.setCapture(),h.opt.emulatetouch?(o.onclick&&!o._onclick&&(o._onclick=o.onclick,o.onclick=function(e){if(h.hasmoving)return!1;o._onclick.call(this,e)}),h.cancelEvent(e)):h.stopPropagation(e);/SUBMIT|CANCEL|BUTTON/i.test(n(o).attr("type"))&&(h.preventclick={tg:o,click:!1})}}},h.ontouchend=function(e){if(!h.rail.drag)return!0;if(2==h.rail.drag.pt){if(e.pointerType&&2!=e.pointerType&&"touch"!=e.pointerType)return!1;if(h.rail.drag=!1,h.hasmoving&&(h.scrollmom.doMomentum(),h.lastmouseup=!0,h.hideCursor(),S.hasmousecapture&&l.releaseCapture(),!S.cantouch))return h.cancelEvent(e)}else if(1==h.rail.drag.pt)return h.onmouseup(e)};var k=h.opt.emulatetouch&&h.isiframe&&!S.hasmousecapture;h.ontouchmove=function(e,o){if(!h.rail.drag)return!1;if(e.targetTouches&&h.opt.preventmultitouchscrolling&&e.targetTouches.length>1)return!1;if(e.pointerType&&2!=e.pointerType&&"touch"!=e.pointerType)return!1;if(2==h.rail.drag.pt){if("changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),h.rail.drag.y===e.clientY&&h.rail.drag.x===e.clientX)return!1;var t,r;if(h.hasmoving||h.onscrollstart&&h.triggerScrollStart(e.clientX,e.clientY,0,0,0),h.hasmoving=!0,h.preventclick&&!h.preventclick.click&&(h.preventclick.click=h.preventclick.tg.onclick||!1,h.preventclick.tg.onclick=h.onpreventclick),r=t=0,k&&!o){var i=h.win.position();r=-i.left,t=-i.top}var s,n=e.clientY+t,a=n-h.rail.drag.y,c=e.clientX+r,d=c-h.rail.drag.x,u=h.rail.drag.st-a;h.ishwscroll&&h.opt.bouncescroll?u<0?u=Math.round(u/2):u>h.page.maxh&&(u=h.page.maxh+Math.round((u-h.page.maxh)/2)):(u<0&&(u=0,n=0),u>h.page.maxh&&(u=h.page.maxh,n=0)),h.railh&&h.railh.scrollable&&(s=h.isrtlmode?d-h.rail.drag.sl:h.rail.drag.sl-d,h.ishwscroll&&h.opt.bouncescroll?s<0?s=Math.round(s/2):s>h.page.maxw&&(s=h.page.maxw+Math.round((s-h.page.maxw)/2)):(s<0&&(s=0,c=0),s>h.page.maxw&&(s=h.page.maxw,c=0)));var m=!1;if(h.rail.drag.dl)m=!0,"v"==h.rail.drag.dl?s=h.rail.drag.sl:"h"==h.rail.drag.dl&&(u=h.rail.drag.st);else{var f=Math.abs(a),g=Math.abs(d),w=h.opt.directionlockdeadzone;if("v"==h.rail.drag.ck){if(f>w&&g<=.3*f)return h.rail.drag=!1,!0;g>w&&(h.rail.drag.dl="f",p.scrollTop(p.scrollTop()))}else if("h"==h.rail.drag.ck){if(g>w&&f<=.3*g)return h.rail.drag=!1,!0;f>w&&(h.rail.drag.dl="f",p.scrollLeft(p.scrollLeft()))}}if(h.synched("touchmove",function(){h.rail.drag&&2==h.rail.drag.pt&&(h.prepareTransition&&h.prepareTransition(0),h.rail.scrollable&&h.setScrollTop(u),h.scrollmom.update(c,n),h.railh&&h.railh.scrollable?(h.setScrollLeft(s),h.showCursor(u,s)):h.showCursor(u),S.isie10&&l.selection.clear())}),S.ischrome&&h.istouchcapable&&(m=!1),m)return h.cancelEvent(e)}else if(1==h.rail.drag.pt)return h.onmousemove(e)},h.ontouchstartCursor=function(e,o){if(!h.rail.drag||3==h.rail.drag.pt){if(h.locked)return h.cancelEvent(e);h.cancelScroll(),h.rail.drag={x:e.touches[0].clientX,y:e.touches[0].clientY,sx:h.scroll.x,sy:h.scroll.y,pt:3,hr:!!o};var t=h.getTarget(e);return!h.ispage&&S.hasmousecapture&&t.setCapture(),h.isiframe&&!S.hasmousecapture&&(h.saved.csspointerevents=h.doc.css("pointer-events"),h.css(h.doc,{"pointer-events":"none"})),h.cancelEvent(e)}},h.ontouchendCursor=function(e){if(h.rail.drag){if(S.hasmousecapture&&l.releaseCapture(),h.isiframe&&!S.hasmousecapture&&h.doc.css("pointer-events",h.saved.csspointerevents),3!=h.rail.drag.pt)return;return h.rail.drag=!1,h.cancelEvent(e)}},h.ontouchmoveCursor=function(e){if(h.rail.drag){if(3!=h.rail.drag.pt)return;if(h.cursorfreezed=!0,h.rail.drag.hr){h.scroll.x=h.rail.drag.sx+(e.touches[0].clientX-h.rail.drag.x),h.scroll.x<0&&(h.scroll.x=0);var o=h.scrollvaluemaxw;h.scroll.x>o&&(h.scroll.x=o)}else{h.scroll.y=h.rail.drag.sy+(e.touches[0].clientY-h.rail.drag.y),h.scroll.y<0&&(h.scroll.y=0);var t=h.scrollvaluemax;h.scroll.y>t&&(h.scroll.y=t)}return h.synched("touchmove",function(){h.rail.drag&&3==h.rail.drag.pt&&(h.showCursor(),h.rail.drag.hr?h.doScrollLeft(Math.round(h.scroll.x*h.scrollratio.x),h.opt.cursordragspeed):h.doScrollTop(Math.round(h.scroll.y*h.scrollratio.y),h.opt.cursordragspeed))}),h.cancelEvent(e)}}}if(h.onmousedown=function(e,o){if(!h.rail.drag||1==h.rail.drag.pt){if(h.railslocked)return h.cancelEvent(e);h.cancelScroll(),h.rail.drag={x:e.clientX,y:e.clientY,sx:h.scroll.x,sy:h.scroll.y,pt:1,hr:o||!1};var t=h.getTarget(e);return!h.ispage&&S.hasmousecapture&&t.setCapture(),h.isiframe&&!S.hasmousecapture&&(h.saved.csspointerevents=h.doc.css("pointer-events"),h.css(h.doc,{"pointer-events":"none"})),h.hasmoving=!1,h.cancelEvent(e)}},h.onmouseup=function(e){if(h.rail.drag)return 1!=h.rail.drag.pt||(S.hasmousecapture&&l.releaseCapture(),h.isiframe&&!S.hasmousecapture&&h.doc.css("pointer-events",h.saved.csspointerevents),h.rail.drag=!1,h.hasmoving&&h.triggerScrollEnd(),h.cancelEvent(e))},h.onmousemove=function(e){if(h.rail.drag){if(1!==h.rail.drag.pt)return;if(S.ischrome&&0===e.which)return h.onmouseup(e);if(h.cursorfreezed=!0,h.hasmoving=!0,h.rail.drag.hr){h.scroll.x=h.rail.drag.sx+(e.clientX-h.rail.drag.x),h.scroll.x<0&&(h.scroll.x=0);var o=h.scrollvaluemaxw;h.scroll.x>o&&(h.scroll.x=o)}else{h.scroll.y=h.rail.drag.sy+(e.clientY-h.rail.drag.y),h.scroll.y<0&&(h.scroll.y=0);var t=h.scrollvaluemax;h.scroll.y>t&&(h.scroll.y=t)}return h.synched("mousemove",function(){h.rail.drag&&1==h.rail.drag.pt&&(h.showCursor(),h.rail.drag.hr?h.hasreversehr?h.doScrollLeft(h.scrollvaluemaxw-Math.round(h.scroll.x*h.scrollratio.x),h.opt.cursordragspeed):h.doScrollLeft(Math.round(h.scroll.x*h.scrollratio.x),h.opt.cursordragspeed):h.doScrollTop(Math.round(h.scroll.y*h.scrollratio.y),h.opt.cursordragspeed))}),h.cancelEvent(e)}h.checkarea=0},S.cantouch||h.opt.emulatetouch)h.onpreventclick=function(e){if(h.preventclick)return h.preventclick.tg.onclick=h.preventclick.click,h.preventclick=!1,h.cancelEvent(e)},h.onclick=!S.isios&&function(e){return!h.lastmouseup||(h.lastmouseup=!1,h.cancelEvent(e))},h.opt.grabcursorenabled&&S.cursorgrabvalue&&(h.css(h.ispage?h.doc:h.win,{cursor:S.cursorgrabvalue}),h.css(h.rail,{cursor:S.cursorgrabvalue}));else{var T=function(e){if(h.selectiondrag){if(e){var o=h.win.outerHeight(),t=e.pageY-h.selectiondrag.top;t>0&&t<o&&(t=0),t>=o&&(t-=o),h.selectiondrag.df=t}if(0!=h.selectiondrag.df){var r=2*-Math.floor(h.selectiondrag.df/6);h.doScrollBy(r),h.debounced("doselectionscroll",function(){T()},50)}}};h.hasTextSelected="getSelection"in l?function(){return l.getSelection().rangeCount>0}:"selection"in l?function(){return"None"!=l.selection.type}:function(){return!1},h.onselectionstart=function(e){h.ispage||(h.selectiondrag=h.win.offset())},h.onselectionend=function(e){h.selectiondrag=!1},h.onselectiondrag=function(e){h.selectiondrag&&h.hasTextSelected()&&h.debounced("selectionscroll",function(){T(e)},250)}}if(S.hasw3ctouch?(h.css(h.ispage?n("html"):h.win,{"touch-action":"none"}),h.css(h.rail,{"touch-action":"none"}),h.css(h.cursor,{"touch-action":"none"}),h.bind(h.win,"pointerdown",h.ontouchstart),h.bind(l,"pointerup",h.ontouchend),h.bind(l,"pointermove",h.ontouchmove)):S.hasmstouch?(h.css(h.ispage?n("html"):h.win,{"-ms-touch-action":"none"}),h.css(h.rail,{"-ms-touch-action":"none"}),h.css(h.cursor,{"-ms-touch-action":"none"}),h.bind(h.win,"MSPointerDown",h.ontouchstart),h.bind(l,"MSPointerUp",h.ontouchend),h.bind(l,"MSPointerMove",h.ontouchmove),h.bind(h.cursor,"MSGestureHold",function(e){e.preventDefault()}),h.bind(h.cursor,"contextmenu",function(e){e.preventDefault()})):S.cantouch&&(h.bind(h.win,"touchstart",h.ontouchstart,!1,!0),h.bind(l,"touchend",h.ontouchend,!1,!0),h.bind(l,"touchcancel",h.ontouchend,!1,!0),h.bind(l,"touchmove",h.ontouchmove,!1,!0)),h.opt.emulatetouch&&(h.bind(h.win,"mousedown",h.ontouchstart,!1,!0),h.bind(l,"mouseup",h.ontouchend,!1,!0),h.bind(l,"mousemove",h.ontouchmove,!1,!0)),(h.opt.cursordragontouch||!S.cantouch&&!h.opt.emulatetouch)&&(h.rail.css({cursor:"default"}),h.railh&&h.railh.css({cursor:"default"}),h.jqbind(h.rail,"mouseenter",function(){if(!h.ispage&&!h.win.is(":visible"))return!1;h.canshowonmouseevent&&h.showCursor(),h.rail.active=!0}),h.jqbind(h.rail,"mouseleave",function(){h.rail.active=!1,h.rail.drag||h.hideCursor()}),h.opt.sensitiverail&&(h.bind(h.rail,"click",function(e){h.doRailClick(e,!1,!1)}),h.bind(h.rail,"dblclick",function(e){h.doRailClick(e,!0,!1)}),h.bind(h.cursor,"click",function(e){h.cancelEvent(e)}),h.bind(h.cursor,"dblclick",function(e){h.cancelEvent(e)})),h.railh&&(h.jqbind(h.railh,"mouseenter",function(){if(!h.ispage&&!h.win.is(":visible"))return!1;h.canshowonmouseevent&&h.showCursor(),h.rail.active=!0}),h.jqbind(h.railh,"mouseleave",function(){h.rail.active=!1,h.rail.drag||h.hideCursor()}),h.opt.sensitiverail&&(h.bind(h.railh,"click",function(e){h.doRailClick(e,!1,!0)}),h.bind(h.railh,"dblclick",function(e){h.doRailClick(e,!0,!0)}),h.bind(h.cursorh,"click",function(e){h.cancelEvent(e)}),h.bind(h.cursorh,"dblclick",function(e){h.cancelEvent(e)})))),h.opt.cursordragontouch&&(this.istouchcapable||S.cantouch)&&(h.bind(h.cursor,"touchstart",h.ontouchstartCursor),h.bind(h.cursor,"touchmove",h.ontouchmoveCursor),h.bind(h.cursor,"touchend",h.ontouchendCursor),h.cursorh&&h.bind(h.cursorh,"touchstart",function(e){h.ontouchstartCursor(e,!0)}),h.cursorh&&h.bind(h.cursorh,"touchmove",h.ontouchmoveCursor),h.cursorh&&h.bind(h.cursorh,"touchend",h.ontouchendCursor)),S.cantouch||h.opt.emulatetouch?(h.bind(S.hasmousecapture?h.win:l,"mouseup",h.ontouchend),h.onclick&&h.bind(l,"click",h.onclick),h.opt.cursordragontouch?(h.bind(h.cursor,"mousedown",h.onmousedown),h.bind(h.cursor,"mouseup",h.onmouseup),h.cursorh&&h.bind(h.cursorh,"mousedown",function(e){h.onmousedown(e,!0)}),h.cursorh&&h.bind(h.cursorh,"mouseup",h.onmouseup)):(h.bind(h.rail,"mousedown",function(e){e.preventDefault()}),h.railh&&h.bind(h.railh,"mousedown",function(e){e.preventDefault()}))):(h.bind(S.hasmousecapture?h.win:l,"mouseup",h.onmouseup),h.bind(l,"mousemove",h.onmousemove),h.onclick&&h.bind(l,"click",h.onclick),h.bind(h.cursor,"mousedown",h.onmousedown),h.bind(h.cursor,"mouseup",h.onmouseup),h.railh&&(h.bind(h.cursorh,"mousedown",function(e){h.onmousedown(e,!0)}),h.bind(h.cursorh,"mouseup",h.onmouseup)),!h.ispage&&h.opt.enablescrollonselection&&(h.bind(h.win[0],"mousedown",h.onselectionstart),h.bind(l,"mouseup",h.onselectionend),h.bind(h.cursor,"mouseup",h.onselectionend),h.cursorh&&h.bind(h.cursorh,"mouseup",h.onselectionend),h.bind(l,"mousemove",h.onselectiondrag)),h.zoom&&(h.jqbind(h.zoom,"mouseenter",function(){h.canshowonmouseevent&&h.showCursor(),h.rail.active=!0}),h.jqbind(h.zoom,"mouseleave",function(){h.rail.active=!1,h.rail.drag||h.hideCursor()}))),h.opt.enablemousewheel&&(h.isiframe||h.mousewheel(S.isie&&h.ispage?l:h.win,h.onmousewheel),h.mousewheel(h.rail,h.onmousewheel),h.railh&&h.mousewheel(h.railh,h.onmousewheelhr)),h.ispage||S.cantouch||/HTML|^BODY/.test(h.win[0].nodeName)||(h.win.attr("tabindex")||h.win.attr({tabindex:++r}),h.bind(h.win,"focus",function(e){o=h.getTarget(e).id||!0,h.hasfocus=!0,h.canshowonmouseevent&&h.noticeCursor()}),h.bind(h.win,"blur",function(e){o=!1,h.hasfocus=!1}),h.bind(h.win,"mouseenter",function(e){t=h.getTarget(e).id||!0,h.hasmousefocus=!0,h.canshowonmouseevent&&h.noticeCursor()}),h.bind(h.win,"mouseleave",function(e){t=!1,h.hasmousefocus=!1,h.rail.drag||h.hideCursor()})),h.onkeypress=function(e){if(h.railslocked&&0==h.page.maxh)return!0;e=e||window.e;var r=h.getTarget(e);if(r&&/INPUT|TEXTAREA|SELECT|OPTION/.test(r.nodeName)&&(!(r.getAttribute("type")||r.type||!1)||!/submit|button|cancel/i.tp))return!0;if(n(r).attr("contenteditable"))return!0;if(h.hasfocus||h.hasmousefocus&&!o||h.ispage&&!o&&!t){var i=e.keyCode;if(h.railslocked&&27!=i)return h.cancelEvent(e);var s=e.ctrlKey||!1,l=e.shiftKey||!1,a=!1;switch(i){case 38:case 63233:h.doScrollBy(72),a=!0;break;case 40:case 63235:h.doScrollBy(-72),a=!0;break;case 37:case 63232:h.railh&&(s?h.doScrollLeft(0):h.doScrollLeftBy(72),a=!0);break;case 39:case 63234:h.railh&&(s?h.doScrollLeft(h.page.maxw):h.doScrollLeftBy(-72),a=!0);break;case 33:case 63276:h.doScrollBy(h.view.h),a=!0;break;case 34:case 63277:h.doScrollBy(-h.view.h),a=!0;break;case 36:case 63273:h.railh&&s?h.doScrollPos(0,0):h.doScrollTo(0),a=!0;break;case 35:case 63275:h.railh&&s?h.doScrollPos(h.page.maxw,h.page.maxh):h.doScrollTo(h.page.maxh),a=!0;break;case 32:h.opt.spacebarenabled&&(l?h.doScrollBy(h.view.h):h.doScrollBy(-h.view.h),a=!0);break;case 27:h.zoomactive&&(h.doZoom(),a=!0)}if(a)return h.cancelEvent(e)}},h.opt.enablekeyboard&&h.bind(l,S.isopera&&!S.isopera12?"keypress":"keydown",h.onkeypress),h.bind(l,"keydown",function(e){(e.ctrlKey||!1)&&(h.wheelprevented=!0)}),h.bind(l,"keyup",function(e){e.ctrlKey||!1||(h.wheelprevented=!1)}),h.bind(window,"blur",function(e){h.wheelprevented=!1}),h.bind(window,"resize",h.lazyResize),h.bind(window,"orientationchange",h.lazyResize),h.bind(window,"load",h.lazyResize),S.ischrome&&!h.ispage&&!h.haswrapper){var M=h.win.attr("style"),E=parseFloat(h.win.css("width"))+1;h.win.css("width",E),h.synched("chromefix",function(){h.win.attr("style",M)})}h.onAttributeChange=function(e){h.lazyResize(h.isieold?250:30)},h.opt.enableobserver&&(h.isie11||!1===f||(h.observerbody=new f(function(e){if(e.forEach(function(e){if("attributes"==e.type)return p.hasClass("modal-open")&&p.hasClass("modal-dialog")&&!n.contains(n(".modal-dialog")[0],h.doc[0])?h.hide():h.show()}),h.me.clientWidth!=h.page.width||h.me.clientHeight!=h.page.height)return h.lazyResize(30)}),h.observerbody.observe(l.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),h.ispage||h.haswrapper||(!1!==f?(h.observer=new f(function(e){e.forEach(h.onAttributeChange)}),h.observer.observe(h.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),h.observerremover=new f(function(e){e.forEach(function(e){if(e.removedNodes.length>0)for(var o in e.removedNodes)if(h&&e.removedNodes[o]==h.win[0])return h.remove()})}),h.observerremover.observe(h.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(h.bind(h.win,S.isie&&!S.isie9?"propertychange":"DOMAttrModified",h.onAttributeChange),S.isie9&&h.win[0].attachEvent("onpropertychange",h.onAttributeChange),h.bind(h.win,"DOMNodeRemoved",function(e){e.target==h.win[0]&&h.remove()})))),!h.ispage&&h.opt.boxzoom&&h.bind(window,"resize",h.resizeZoom),h.istextarea&&(h.bind(h.win,"keydown",h.lazyResize),h.bind(h.win,"mouseup",h.lazyResize)),h.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var L=function(){var o;h.iframexd=!1;try{(o="contentDocument"in this?this.contentDocument:this.contentWindow._doc).domain}catch(e){h.iframexd=!0,o=!1}if(h.iframexd)return"console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0;if(h.forcescreen=!0,h.isiframe&&(h.iframe={doc:n(o),html:h.doc.contents().find("html")[0],body:h.doc.contents().find("body")[0]},h.getContentSize=function(){return{w:Math.max(h.iframe.html.scrollWidth,h.iframe.body.scrollWidth),h:Math.max(h.iframe.html.scrollHeight,h.iframe.body.scrollHeight)}},h.docscroll=n(h.iframe.body)),!S.isios&&h.opt.iframeautoresize&&!h.isiframe){h.win.scrollTop(0),h.doc.height("");var t=Math.max(o.getElementsByTagName("html")[0].scrollHeight,o.body.scrollHeight);h.doc.height(t)}h.lazyResize(30),h.css(n(h.iframe.body),e),S.isios&&h.haswrapper&&h.css(n(o.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?h.bind(this.contentWindow,"scroll",h.onscroll):h.bind(o,"scroll",h.onscroll),h.opt.enablemousewheel&&h.mousewheel(o,h.onmousewheel),h.opt.enablekeyboard&&h.bind(o,S.isopera?"keypress":"keydown",h.onkeypress),S.cantouch?(h.bind(o,"touchstart",h.ontouchstart),h.bind(o,"touchmove",h.ontouchmove)):h.opt.emulatetouch&&(h.bind(o,"mousedown",h.ontouchstart),h.bind(o,"mousemove",function(e){return h.ontouchmove(e,!0)}),h.opt.grabcursorenabled&&S.cursorgrabvalue&&h.css(n(o.body),{cursor:S.cursorgrabvalue})),h.bind(o,"mouseup",h.ontouchend),h.zoom&&(h.opt.dblclickzoom&&h.bind(o,"dblclick",h.doZoom),h.ongesturezoom&&h.bind(o,"gestureend",h.ongesturezoom))};this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){L.call(h.doc[0],!1)},500),h.bind(this.doc,"load",L)}},this.showCursor=function(e,o){if(h.cursortimeout&&(clearTimeout(h.cursortimeout),h.cursortimeout=0),h.rail){if(h.autohidedom&&(h.autohidedom.stop().css({opacity:h.opt.cursoropacitymax}),h.cursoractive=!0),h.rail.drag&&1==h.rail.drag.pt||(void 0!==e&&!1!==e&&(h.scroll.y=Math.round(1*e/h.scrollratio.y)),void 0!==o&&(h.scroll.x=Math.round(1*o/h.scrollratio.x))),h.cursor.css({height:h.cursorheight,top:h.scroll.y}),h.cursorh){var t=h.hasreversehr?h.scrollvaluemaxw-h.scroll.x:h.scroll.x;!h.rail.align&&h.rail.visibility?h.cursorh.css({width:h.cursorwidth,left:t+h.rail.width}):h.cursorh.css({width:h.cursorwidth,left:t}),h.cursoractive=!0}h.zoom&&h.zoom.stop().css({opacity:h.opt.cursoropacitymax})}},this.hideCursor=function(e){h.cursortimeout||h.rail&&h.autohidedom&&(h.hasmousefocus&&"leave"==h.opt.autohidemode||(h.cursortimeout=setTimeout(function(){h.rail.active&&h.showonmouseevent||(h.autohidedom.stop().animate({opacity:h.opt.cursoropacitymin}),h.zoom&&h.zoom.stop().animate({opacity:h.opt.cursoropacitymin}),h.cursoractive=!1),h.cursortimeout=0},e||h.opt.hidecursordelay)))},this.noticeCursor=function(e,o,t){h.showCursor(o,t),h.rail.active||h.hideCursor(e)},this.getContentSize=h.ispage?function(){return{w:Math.max(l.body.scrollWidth,l.documentElement.scrollWidth),h:Math.max(l.body.scrollHeight,l.documentElement.scrollHeight)}}:h.haswrapper?function(){return{w:h.doc[0].offsetWidth,h:h.doc[0].offsetHeight}}:function(){return{w:h.docscroll[0].scrollWidth,h:h.docscroll[0].scrollHeight}},this.onResize=function(e,o){if(!h||!h.win)return!1;if(!h.haswrapper&&!h.ispage){if("none"==h.win.css("display"))return h.visibility&&h.hideRail().hideRailHr(),!1;h.hidden||h.visibility||h.showRail().showRailHr()}var t=h.page.maxh,r=h.page.maxw,i=h.view.h,s=h.view.w;if(h.view={w:h.ispage?h.win.width():h.win[0].clientWidth,h:h.ispage?h.win.height():h.win[0].clientHeight},h.page=o||h.getContentSize(),h.page.maxh=Math.max(0,h.page.h-h.view.h),h.page.maxw=Math.max(0,h.page.w-h.view.w),h.page.maxh==t&&h.page.maxw==r&&h.view.w==s&&h.view.h==i){if(h.ispage)return h;var n=h.win.offset();if(h.lastposition){var l=h.lastposition;if(l.top==n.top&&l.left==n.left)return h}h.lastposition=n}return 0===h.page.maxh?(h.hideRail(),h.scrollvaluemax=0,h.scroll.y=0,h.scrollratio.y=0,h.cursorheight=0,h.setScrollTop(0),h.rail&&(h.rail.scrollable=!1)):(h.page.maxh-=h.opt.railpadding.top+h.opt.railpadding.bottom,h.rail.scrollable=!0),0===h.page.maxw?(h.hideRailHr(),h.scrollvaluemaxw=0,h.scroll.x=0,h.scrollratio.x=0,h.cursorwidth=0,h.setScrollLeft(0),h.railh&&(h.railh.scrollable=!1)):(h.page.maxw-=h.opt.railpadding.left+h.opt.railpadding.right,h.railh&&(h.railh.scrollable=h.opt.horizrailenabled)),h.railslocked=h.locked||0===h.page.maxh&&0===h.page.maxw,h.railslocked?(h.ispage||h.updateScrollBar(h.view),!1):(h.hidden||h.visibility?!h.railh||h.hidden||h.railh.visibility||h.showRailHr():h.showRail().showRailHr(),h.istextarea&&h.win.css("resize")&&"none"!=h.win.css("resize")&&(h.view.h-=20),h.cursorheight=Math.min(h.view.h,Math.round(h.view.h*(h.view.h/h.page.h))),h.cursorheight=h.opt.cursorfixedheight?h.opt.cursorfixedheight:Math.max(h.opt.cursorminheight,h.cursorheight),h.cursorwidth=Math.min(h.view.w,Math.round(h.view.w*(h.view.w/h.page.w))),h.cursorwidth=h.opt.cursorfixedheight?h.opt.cursorfixedheight:Math.max(h.opt.cursorminheight,h.cursorwidth),h.scrollvaluemax=h.view.h-h.cursorheight-(h.opt.railpadding.top+h.opt.railpadding.bottom),h.railh&&(h.railh.width=h.page.maxh>0?h.view.w-h.rail.width:h.view.w,h.scrollvaluemaxw=h.railh.width-h.cursorwidth-(h.opt.railpadding.left+h.opt.railpadding.right)),h.ispage||h.updateScrollBar(h.view),h.scrollratio={x:h.page.maxw/h.scrollvaluemaxw,y:h.page.maxh/h.scrollvaluemax},h.getScrollTop()>h.page.maxh?h.doScrollTop(h.page.maxh):(h.scroll.y=Math.round(h.getScrollTop()*(1/h.scrollratio.y)),h.scroll.x=Math.round(h.getScrollLeft()*(1/h.scrollratio.x)),h.cursoractive&&h.noticeCursor()),h.scroll.y&&0==h.getScrollTop()&&h.doScrollTo(Math.floor(h.scroll.y*h.scrollratio.y)),h)},this.resize=h.onResize,this.hlazyresize=0,this.lazyResize=function(e){return h.haswrapper||h.hide(),h.hlazyresize&&clearTimeout(h.hlazyresize),h.hlazyresize=setTimeout(function(){h&&(h.resize(),h.show())},240),h},this.jqbind=function(e,o,t){h.events.push({e:e,n:o,f:t,q:!0}),n(e).bind(o,t)},this.mousewheel=function(e,o,t){var r="jquery"in e?e[0]:e;if("onwheel"in l.createElement("div"))h._bind(r,"wheel",o,t||!1);else{var i=void 0!==l.onmousewheel?"mousewheel":"DOMMouseScroll";C(r,i,o,t||!1),"DOMMouseScroll"==i&&C(r,"MozMousePixelScroll",o,t||!1)}};var N=!1;if(S.haseventlistener){try{var P=Object.defineProperty({},"passive",{get:function(){N=!0}});window.addEventListener("test",null,P)}catch(e){}this.cancelEvent=function(e){return!!e&&((e=e.original?e.original:e).cancelable&&e.preventDefault(),e.stopPropagation(),e.preventManipulation&&e.preventManipulation(),!1)},this.stopPropagation=function(e){return!!e&&((e=e.original?e.original:e).stopPropagation(),!1)}}else Event.prototype.preventDefault=function(){this.returnValue=!1},Event.prototype.stopPropagation=function(){this.cancelBubble=!0},window.constructor.prototype.addEventListener=l.constructor.prototype.addEventListener=Element.prototype.addEventListener=function(e,o,t){this.attachEvent("on"+e,o)},window.constructor.prototype.removeEventListener=l.constructor.prototype.removeEventListener=Element.prototype.removeEventListener=function(e,o,t){this.detachEvent("on"+e,o)},this.cancelEvent=function(e){return!!(e=window.event||!1)&&(e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1,!1)},this.stopPropagation=function(e){return!!(e=window.event||!1)&&(e.cancelBubble=!0,!1)};function R(e,o,t){var r,i;(0==e.deltaMode?(r=-Math.floor(e.deltaX*(h.opt.mousescrollstep/54)),i=-Math.floor(e.deltaY*(h.opt.mousescrollstep/54))):1==e.deltaMode&&(r=-Math.floor(e.deltaX*h.opt.mousescrollstep),i=-Math.floor(e.deltaY*h.opt.mousescrollstep)),o&&h.opt.oneaxismousemode&&0===r&&i)&&(r=i,i=0,t&&(r<0?h.getScrollLeft()>=h.page.maxw:h.getScrollLeft()<=0)&&(i=r,r=0));if(h.isrtlmode&&(r=-r),r){if(h.scrollmom)h.scrollmom.stop();else if(r<0){if(h.getScrollLeft()>=h.page.maxw)return!0}else if(h.getScrollLeft()<=0)return!0;h.lastdeltax+=r,h.debounced("mousewheelx",function(){var e=h.lastdeltax;h.lastdeltax=0,h.rail.drag||h.doScrollLeftBy(e)},15)}if(i){if(h.opt.nativeparentscrolling&&t&&!h.ispage&&!h.zoomactive)if(i<0){if(h.getScrollTop()>=h.page.maxh)return!0}else if(h.getScrollTop()<=0)return!0;h.scrollmom&&h.scrollmom.stop(),h.lastdeltay+=i,h.synched("mousewheely",function(){var e=h.lastdeltay;h.lastdeltay=0,h.rail.drag||h.doScrollBy(e)},15)}return e.stopImmediatePropagation(),e.preventDefault()}this.bind=function(e,o,t,r,i){var s="jquery"in e?e[0]:e;h._bind(s,o,t,r||!1,i||!1)},this._bind=function(e,o,t,r,i){h.events.push({e:e,n:o,f:t,b:r,q:!1}),N&&(i||e==window.document||e==window.document.body||e==window)?e.addEventListener(o,t,{passive:!1,capture:r}):e.addEventListener(o,t,r||!1)},this._unbind=function(e,o,t,r){e.removeEventListener(o,t,r)},this.unbindAll=function(){for(var e=0;e<h.events.length;e++){var o=h.events[e];o.q?o.e.unbind(o.n,o.f):h._unbind(o.e,o.n,o.f,o.b)}},this.showRail=function(){return 0==h.page.maxh||!h.ispage&&"none"==h.win.css("display")||(h.visibility=!0,h.rail.visibility=!0,h.rail.css("display","block")),h},this.showRailHr=function(){return h.railh?(0==h.page.maxw||!h.ispage&&"none"==h.win.css("display")||(h.railh.visibility=!0,h.railh.css("display","block")),h):h},this.hideRail=function(){return h.visibility=!1,h.rail.visibility=!1,h.rail.css("display","none"),h},this.hideRailHr=function(){return h.railh?(h.railh.visibility=!1,h.railh.css("display","none"),h):h},this.show=function(){return h.hidden=!1,h.railslocked=!1,h.showRail().showRailHr()},this.hide=function(){return h.hidden=!0,h.railslocked=!0,h.hideRail().hideRailHr()},this.toggle=function(){return h.hidden?h.show():h.hide()},this.remove=function(){for(var e in h.stop(),h.cursortimeout&&clearTimeout(h.cursortimeout),h.delaylist)h.delaylist[e]&&d(h.delaylist[e].h);h.doZoomOut(),h.unbindAll(),S.isie9&&h.win[0].detachEvent("onpropertychange",h.onAttributeChange),!1!==h.observer&&h.observer.disconnect(),!1!==h.observerremover&&h.observerremover.disconnect(),!1!==h.observerbody&&h.observerbody.disconnect(),h.events=null,h.cursor&&h.cursor.remove(),h.cursorh&&h.cursorh.remove(),h.rail&&h.rail.remove(),h.railh&&h.railh.remove(),h.zoom&&h.zoom.remove();for(var o=0;o<h.saved.css.length;o++){var t=h.saved.css[o];t[0].css(t[1],void 0===t[2]?"":t[2])}h.saved=!1,h.me.data("__nicescroll","");var r=n.nicescroll;for(var i in r.each(function(e){if(this&&this.id===h.id){delete r[e];for(var o=++e;o<r.length;o++,e++)r[e]=r[o];r.length--,r.length&&delete r[r.length]}}),h)h[i]=null,delete h[i];h=null},this.scrollstart=function(e){return this.onscrollstart=e,h},this.scrollend=function(e){return this.onscrollend=e,h},this.scrollcancel=function(e){return this.onscrollcancel=e,h},this.zoomin=function(e){return this.onzoomin=e,h},this.zoomout=function(e){return this.onzoomout=e,h},this.isScrollable=function(e){var o=e.target?e.target:e;if("OPTION"==o.nodeName)return!0;for(;o&&1==o.nodeType&&o!==this.me[0]&&!/^BODY|HTML/.test(o.nodeName);){var t=n(o),r=t.css("overflowY")||t.css("overflowX")||t.css("overflow")||"";if(/scroll|auto/.test(r))return o.clientHeight!=o.scrollHeight;o=!!o.parentNode&&o.parentNode}return!1},this.getViewport=function(e){for(var o=!(!e||!e.parentNode)&&e.parentNode;o&&1==o.nodeType&&!/^BODY|HTML/.test(o.nodeName);){var t=n(o);if(/fixed|absolute/.test(t.css("position")))return t;var r=t.css("overflowY")||t.css("overflowX")||t.css("overflow")||"";if(/scroll|auto/.test(r)&&o.clientHeight!=o.scrollHeight)return t;if(t.getNiceScroll().length>0)return t;o=!!o.parentNode&&o.parentNode}return!1},this.triggerScrollStart=function(e,o,t,r,i){var s={type:"scrollstart",current:{x:e,y:o},request:{x:t,y:r},end:{x:h.newscrollx,y:h.newscrolly},speed:i};h.onscrollstart.call(h,s)},this.triggerScrollEnd=function(){if(h.onscrollend){var e=h.getScrollLeft(),o=h.getScrollTop(),t={type:"scrollend",current:{x:e,y:o},end:{x:e,y:o}};h.onscrollend.call(h,t)}},this.onmousewheel=function(e){if(!h.wheelprevented){if(h.railslocked)return h.debounced("checkunlock",h.resize,250),!0;if(h.rail.drag)return h.cancelEvent(e);if("auto"===h.opt.oneaxismousemode&&0!==e.deltaX&&(h.opt.oneaxismousemode=!1),h.opt.oneaxismousemode&&0===e.deltaX&&!h.rail.scrollable)return!h.railh||!h.railh.scrollable||h.onmousewheelhr(e);var o=g(),t=!1;if(h.opt.preservenativescrolling&&h.checkarea+600<o&&(h.nativescrollingarea=h.isScrollable(e),t=!0),h.checkarea=o,h.nativescrollingarea)return!0;var r=R(e,!1,t);return r&&(h.checkarea=0),r}},this.onmousewheelhr=function(e){if(!h.wheelprevented){if(h.railslocked||!h.railh.scrollable)return!0;if(h.rail.drag)return h.cancelEvent(e);var o=g(),t=!1;return h.opt.preservenativescrolling&&h.checkarea+600<o&&(h.nativescrollingarea=h.isScrollable(e),t=!0),h.checkarea=o,!!h.nativescrollingarea||(h.railslocked?h.cancelEvent(e):R(e,!0,t))}},this.stop=function(){return h.cancelScroll(),h.scrollmon&&h.scrollmon.stop(),h.cursorfreezed=!1,h.scroll.y=Math.round(h.getScrollTop()*(1/h.scrollratio.y)),h.noticeCursor(),h},this.getTransitionSpeed=function(e){var o=Math.round(10*h.opt.scrollspeed),t=Math.min(o,Math.round(e/20*h.opt.scrollspeed));return t>20?t:0},h.opt.smoothscroll?h.ishwscroll&&S.hastransition&&h.opt.usetransition&&h.opt.smoothscroll?(this.prepareTransition=function(e,o){var t=o?e>20?e:0:h.getTransitionSpeed(e),r=t?S.prefixstyle+"transform "+t+"ms ease-out":"";return h.lasttransitionstyle&&h.lasttransitionstyle==r||(h.lasttransitionstyle=r,h.doc.css(S.transitionstyle,r)),t},this.doScrollLeft=function(e,o){var t=h.scrollrunning?h.newscrolly:h.getScrollTop();h.doScrollPos(e,t,o)},this.doScrollTop=function(e,o){var t=h.scrollrunning?h.newscrollx:h.getScrollLeft();h.doScrollPos(t,e,o)},this.doScrollPos=function(e,o,t){var r=h.getScrollTop(),i=h.getScrollLeft();return((h.newscrolly-r)*(o-r)<0||(h.newscrollx-i)*(e-i)<0)&&h.cancelScroll(),0==h.opt.bouncescroll&&(o<0?o=0:o>h.page.maxh&&(o=h.page.maxh),e<0?e=0:e>h.page.maxw&&(e=h.page.maxw)),(!h.scrollrunning||e!=h.newscrollx||o!=h.newscrolly)&&(h.newscrolly=o,h.newscrollx=e,h.newscrollspeed=t||!1,!h.timer&&void(h.timer=setTimeout(function(){var t=h.getScrollTop(),r=h.getScrollLeft(),i={};i.x=e-r,i.y=o-t,i.px=r,i.py=t;var s=Math.round(Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))),n=h.newscrollspeed&&h.newscrollspeed>1?h.newscrollspeed:h.getTransitionSpeed(s);if(h.newscrollspeed&&h.newscrollspeed<=1&&(n*=h.newscrollspeed),h.prepareTransition(n,!0),h.timerscroll&&h.timerscroll.tm&&clearInterval(h.timerscroll.tm),n>0){!h.scrollrunning&&h.onscrollstart&&h.triggerScrollStart(r,t,e,o,n),S.transitionend?h.scrollendtrapped||(h.scrollendtrapped=!0,h.bind(h.doc,S.transitionend,h.onScrollTransitionEnd,!1)):(h.scrollendtrapped&&clearTimeout(h.scrollendtrapped),h.scrollendtrapped=setTimeout(h.onScrollTransitionEnd,n));var l=t,a=r;h.timerscroll={bz:new k(l,h.newscrolly,n,0,0,.58,1),bh:new k(a,h.newscrollx,n,0,0,.58,1)},h.cursorfreezed||(h.timerscroll.tm=setInterval(function(){h.showCursor(h.getScrollTop(),h.getScrollLeft())},60))}h.synched("doScroll-set",function(){h.timer=0,h.scrollendtrapped&&(h.scrollrunning=!0),h.setScrollTop(h.newscrolly),h.setScrollLeft(h.newscrollx),h.scrollendtrapped||h.onScrollTransitionEnd()})},50)))},this.cancelScroll=function(){if(!h.scrollendtrapped)return!0;var e=h.getScrollTop(),o=h.getScrollLeft();return h.scrollrunning=!1,S.transitionend||clearTimeout(S.transitionend),h.scrollendtrapped=!1,h._unbind(h.doc[0],S.transitionend,h.onScrollTransitionEnd),h.prepareTransition(0),h.setScrollTop(e),h.railh&&h.setScrollLeft(o),h.timerscroll&&h.timerscroll.tm&&clearInterval(h.timerscroll.tm),h.timerscroll=!1,h.cursorfreezed=!1,h.showCursor(e,o),h},this.onScrollTransitionEnd=function(){h.scrollendtrapped&&h._unbind(h.doc[0],S.transitionend,h.onScrollTransitionEnd),h.scrollendtrapped=!1,h.prepareTransition(0),h.timerscroll&&h.timerscroll.tm&&clearInterval(h.timerscroll.tm),h.timerscroll=!1;var e=h.getScrollTop(),o=h.getScrollLeft();if(h.setScrollTop(e),h.railh&&h.setScrollLeft(o),h.noticeCursor(!1,e,o),h.cursorfreezed=!1,e<0?e=0:e>h.page.maxh&&(e=h.page.maxh),o<0?o=0:o>h.page.maxw&&(o=h.page.maxw),e!=h.newscrolly||o!=h.newscrollx)return h.doScrollPos(o,e,h.opt.snapbackspeed);h.onscrollend&&h.scrollrunning&&h.triggerScrollEnd(),h.scrollrunning=!1}):(this.doScrollLeft=function(e,o){var t=h.scrollrunning?h.newscrolly:h.getScrollTop();h.doScrollPos(e,t,o)},this.doScrollTop=function(e,o){var t=h.scrollrunning?h.newscrollx:h.getScrollLeft();h.doScrollPos(t,e,o)},this.doScrollPos=function(e,o,t){o=void 0===o||!1===o?h.getScrollTop(!0):o;if(h.timer&&h.newscrolly==o&&h.newscrollx==e)return!0;h.timer&&d(h.timer),h.timer=0;var r=h.getScrollTop(),i=h.getScrollLeft();((h.newscrolly-r)*(o-r)<0||(h.newscrollx-i)*(e-i)<0)&&h.cancelScroll(),h.newscrolly=o,h.newscrollx=e,h.bouncescroll&&h.rail.visibility||(h.newscrolly<0?h.newscrolly=0:h.newscrolly>h.page.maxh&&(h.newscrolly=h.page.maxh)),h.bouncescroll&&h.railh.visibility||(h.newscrollx<0?h.newscrollx=0:h.newscrollx>h.page.maxw&&(h.newscrollx=h.page.maxw)),h.dst={},h.dst.x=e-i,h.dst.y=o-r,h.dst.px=i,h.dst.py=r;var s=Math.round(Math.sqrt(Math.pow(h.dst.x,2)+Math.pow(h.dst.y,2)));h.dst.ax=h.dst.x/s,h.dst.ay=h.dst.y/s;var n=0,l=s;0==h.dst.x?(n=r,l=o,h.dst.ay=1,h.dst.py=0):0==h.dst.y&&(n=i,l=e,h.dst.ax=1,h.dst.px=0);var a=h.getTransitionSpeed(s);if(t&&t<=1&&(a*=t),h.bzscroll=a>0&&(h.bzscroll?h.bzscroll.update(l,a):new k(n,l,a,0,1,0,1)),!h.timer){(r==h.page.maxh&&o>=h.page.maxh||i==h.page.maxw&&e>=h.page.maxw)&&h.checkContentSize();var u=1;h.cancelAnimationFrame=!1,h.timer=1,h.onscrollstart&&!h.scrollrunning&&h.triggerScrollStart(i,r,e,o,a),function e(){if(h.cancelAnimationFrame)return!0;if(h.scrollrunning=!0,u=1-u)return h.timer=c(e)||1;var o,t,r=0,i=t=h.getScrollTop();h.dst.ay?(((s=(i=h.bzscroll?h.dst.py+h.bzscroll.getNow()*h.dst.ay:h.newscrolly)-t)<0&&i<h.newscrolly||s>0&&i>h.newscrolly)&&(i=h.newscrolly),h.setScrollTop(i),i==h.newscrolly&&(r=1)):r=1;var s,n=o=h.getScrollLeft();h.dst.ax?(((s=(n=h.bzscroll?h.dst.px+h.bzscroll.getNow()*h.dst.ax:h.newscrollx)-o)<0&&n<h.newscrollx||s>0&&n>h.newscrollx)&&(n=h.newscrollx),h.setScrollLeft(n),n==h.newscrollx&&(r+=1)):r+=1;2==r?(h.timer=0,h.cursorfreezed=!1,h.bzscroll=!1,h.scrollrunning=!1,i<0?i=0:i>h.page.maxh&&(i=Math.max(0,h.page.maxh)),n<0?n=0:n>h.page.maxw&&(n=h.page.maxw),n!=h.newscrollx||i!=h.newscrolly?h.doScrollPos(n,i):h.onscrollend&&h.triggerScrollEnd()):h.timer=c(e)||1}(),(r==h.page.maxh&&o>=r||i==h.page.maxw&&e>=i)&&h.checkContentSize(),h.noticeCursor()}},this.cancelScroll=function(){return h.timer&&d(h.timer),h.timer=0,h.bzscroll=!1,h.scrollrunning=!1,h}):(this.doScrollLeft=function(e,o){var t=h.getScrollTop();h.doScrollPos(e,t,o)},this.doScrollTop=function(e,o){var t=h.getScrollLeft();h.doScrollPos(t,e,o)},this.doScrollPos=function(e,o,t){var r=e>h.page.maxw?h.page.maxw:e;r<0&&(r=0);var i=o>h.page.maxh?h.page.maxh:o;i<0&&(i=0),h.synched("scroll",function(){h.setScrollTop(i),h.setScrollLeft(r)})},this.cancelScroll=function(){}),this.doScrollBy=function(e,o){var t=0;o?t=Math.floor((h.scroll.y-e)*h.scrollratio.y):t=(h.timer?h.newscrolly:h.getScrollTop(!0))-e;if(h.bouncescroll){var r=Math.round(h.view.h/2);t<-r?t=-r:t>h.page.maxh+r&&(t=h.page.maxh+r)}h.cursorfreezed=!1;var i=h.getScrollTop(!0);return t<0&&i<=0?h.noticeCursor():t>h.page.maxh&&i>=h.page.maxh?(h.checkContentSize(),h.noticeCursor()):void h.doScrollTop(t)},this.doScrollLeftBy=function(e,o){var t=0;o?t=Math.floor((h.scroll.x-e)*h.scrollratio.x):t=(h.timer?h.newscrollx:h.getScrollLeft(!0))-e;if(h.bouncescroll){var r=Math.round(h.view.w/2);t<-r?t=-r:t>h.page.maxw+r&&(t=h.page.maxw+r)}h.cursorfreezed=!1;var i=h.getScrollLeft(!0);return t<0&&i<=0?h.noticeCursor():t>h.page.maxw&&i>=h.page.maxw?h.noticeCursor():void h.doScrollLeft(t)},this.doScrollTo=function(e,o){var t=o?Math.round(e*h.scrollratio.y):e;t<0?t=0:t>h.page.maxh&&(t=h.page.maxh),h.cursorfreezed=!1,h.doScrollTop(e)},this.checkContentSize=function(){var e=h.getContentSize();e.h==h.page.h&&e.w==h.page.w||h.resize(!1,e)},h.onscroll=function(e){h.rail.drag||h.cursorfreezed||h.synched("scroll",function(){h.scroll.y=Math.round(h.getScrollTop()*(1/h.scrollratio.y)),h.railh&&(h.scroll.x=Math.round(h.getScrollLeft()*(1/h.scrollratio.x))),h.noticeCursor()})},h.bind(h.docscroll,"scroll",h.onscroll),this.doZoomIn=function(e){if(!h.zoomactive){h.zoomactive=!0,h.zoomrestore={style:{}};var o=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],t=h.win[0].style;for(var r in o){var i=o[r];h.zoomrestore.style[i]=void 0!==t[i]?t[i]:""}h.zoomrestore.style.width=h.win.css("width"),h.zoomrestore.style.height=h.win.css("height"),h.zoomrestore.padding={w:h.win.outerWidth()-h.win.width(),h:h.win.outerHeight()-h.win.height()},S.isios4&&(h.zoomrestore.scrollTop=a.scrollTop(),a.scrollTop(0)),h.win.css({position:S.isios4?"absolute":"fixed",top:0,left:0,zIndex:s+100,margin:0});var n=h.win.css("backgroundColor");return(""==n||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(n))&&h.win.css("backgroundColor","#fff"),h.rail.css({zIndex:s+101}),h.zoom.css({zIndex:s+102}),h.zoom.css("backgroundPosition","0 -18px"),h.resizeZoom(),h.onzoomin&&h.onzoomin.call(h),h.cancelEvent(e)}},this.doZoomOut=function(e){if(h.zoomactive)return h.zoomactive=!1,h.win.css("margin",""),h.win.css(h.zoomrestore.style),S.isios4&&a.scrollTop(h.zoomrestore.scrollTop),h.rail.css({"z-index":h.zindex}),h.zoom.css({"z-index":h.zindex}),h.zoomrestore=!1,h.zoom.css("backgroundPosition","0 0"),h.onResize(),h.onzoomout&&h.onzoomout.call(h),h.cancelEvent(e)},this.doZoom=function(e){return h.zoomactive?h.doZoomOut(e):h.doZoomIn(e)},this.resizeZoom=function(){if(h.zoomactive){var e=h.getScrollTop();h.win.css({width:a.width()-h.zoomrestore.padding.w+"px",height:a.height()-h.zoomrestore.padding.h+"px"}),h.onResize(),h.setScrollTop(Math.min(h.page.maxh,e))}},this.init(),n.nicescroll.push(this)},y=function(e){var o=this;this.nc=e,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.reset=function(e,t){o.stop(),o.steptime=0,o.lasttime=g(),o.speedx=0,o.speedy=0,o.lastx=e,o.lasty=t,o.lastscrollx=-1,o.lastscrolly=-1},this.update=function(e,t){var r=g();o.steptime=r-o.lasttime,o.lasttime=r;var i=t-o.lasty,s=e-o.lastx,n=o.nc.getScrollTop()+i,l=o.nc.getScrollLeft()+s;o.snapx=l<0||l>o.nc.page.maxw,o.snapy=n<0||n>o.nc.page.maxh,o.speedx=s,o.speedy=i,o.lastx=e,o.lasty=t},this.stop=function(){o.nc.unsynched("domomentum2d"),o.timer&&clearTimeout(o.timer),o.timer=0,o.lastscrollx=-1,o.lastscrolly=-1},this.doSnapy=function(e,t){var r=!1;t<0?(t=0,r=!0):t>o.nc.page.maxh&&(t=o.nc.page.maxh,r=!0),e<0?(e=0,r=!0):e>o.nc.page.maxw&&(e=o.nc.page.maxw,r=!0),r?o.nc.doScrollPos(e,t,o.nc.opt.snapbackspeed):o.nc.triggerScrollEnd()},this.doMomentum=function(e){var t=g(),r=e?t+e:o.lasttime,i=o.nc.getScrollLeft(),s=o.nc.getScrollTop(),n=o.nc.page.maxh,l=o.nc.page.maxw;o.speedx=l>0?Math.min(60,o.speedx):0,o.speedy=n>0?Math.min(60,o.speedy):0;var a=r&&t-r<=60;(s<0||s>n||i<0||i>l)&&(a=!1);var c=!(!o.speedy||!a)&&o.speedy,d=!(!o.speedx||!a)&&o.speedx;if(c||d){var u=Math.max(16,o.steptime);if(u>50){var h=u/50;o.speedx*=h,o.speedy*=h,u=50}o.demulxy=0,o.lastscrollx=o.nc.getScrollLeft(),o.chkx=o.lastscrollx,o.lastscrolly=o.nc.getScrollTop(),o.chky=o.lastscrolly;var p=o.lastscrollx,m=o.lastscrolly,f=function(){var e=g()-t>600?.04:.02;o.speedx&&(p=Math.floor(o.lastscrollx-o.speedx*(1-o.demulxy)),o.lastscrollx=p,(p<0||p>l)&&(e=.1)),o.speedy&&(m=Math.floor(o.lastscrolly-o.speedy*(1-o.demulxy)),o.lastscrolly=m,(m<0||m>n)&&(e=.1)),o.demulxy=Math.min(1,o.demulxy+e),o.nc.synched("domomentum2d",function(){if(o.speedx){o.nc.getScrollLeft();o.chkx=p,o.nc.setScrollLeft(p)}if(o.speedy){o.nc.getScrollTop();o.chky=m,o.nc.setScrollTop(m)}o.timer||(o.nc.hideCursor(),o.doSnapy(p,m))}),o.demulxy<1?o.timer=setTimeout(f,u):(o.stop(),o.nc.hideCursor(),o.doSnapy(p,m))};f()}else o.doSnapy(o.nc.getScrollLeft(),o.nc.getScrollTop())}},x=e.fn.scrollTop;e.cssHooks.pageYOffset={get:function(e,o,t){var r=n.data(e,"__nicescroll")||!1;return r&&r.ishwscroll?r.getScrollTop():x.call(e)},set:function(e,o){var t=n.data(e,"__nicescroll")||!1;return t&&t.ishwscroll?t.setScrollTop(parseInt(o)):x.call(e,o),this}},e.fn.scrollTop=function(e){if(void 0===e){var o=this[0]&&n.data(this[0],"__nicescroll")||!1;return o&&o.ishwscroll?o.getScrollTop():x.call(this)}return this.each(function(){var o=n.data(this,"__nicescroll")||!1;o&&o.ishwscroll?o.setScrollTop(parseInt(e)):x.call(n(this),e)})};var S=e.fn.scrollLeft;n.cssHooks.pageXOffset={get:function(e,o,t){var r=n.data(e,"__nicescroll")||!1;return r&&r.ishwscroll?r.getScrollLeft():S.call(e)},set:function(e,o){var t=n.data(e,"__nicescroll")||!1;return t&&t.ishwscroll?t.setScrollLeft(parseInt(o)):S.call(e,o),this}},e.fn.scrollLeft=function(e){if(void 0===e){var o=this[0]&&n.data(this[0],"__nicescroll")||!1;return o&&o.ishwscroll?o.getScrollLeft():S.call(this)}return this.each(function(){var o=n.data(this,"__nicescroll")||!1;o&&o.ishwscroll?o.setScrollLeft(parseInt(e)):S.call(n(this),e)})};var z=function(e){var o=this;if(this.length=0,this.name="nicescrollarray",this.each=function(e){return n.each(o,e),o},this.push=function(e){o[o.length]=e,o.length++},this.eq=function(e){return o[e]},e)for(var t=0;t<e.length;t++){var r=n.data(e[t],"__nicescroll")||!1;r&&(this[this.length]=r,this.length++)}return this};!function(e,o,t){for(var r=0,i=o.length;r<i;r++)t(e,o[r])}(z.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],function(e,o){e[o]=function(){var e=arguments;return this.each(function(){this[o].apply(this,e)})}}),e.fn.getNiceScroll=function(e){return void 0===e?new z(this):this[e]&&n.data(this[e],"__nicescroll")||!1},e.expr[":"].nicescroll=function(e){return void 0!==n.data(e,"__nicescroll")},n.fn.niceScroll=function(e,o){void 0!==o||"object"!=typeof e||"jquery"in e||(o=e,e=!1);var t=new z;return this.each(function(){var r=n(this),i=n.extend({},o);if(e){var s=n(e);i.doc=s.length>1?n(e,r):s,i.win=r}!("doc"in i)||"win"in i||(i.win=r);var l=r.data("__nicescroll")||!1;l||(i.doc=i.doc||r,l=new b(i,r),r.data("__nicescroll",l)),t.push(l)}),1===t.length?t[0]:t},window.NiceScroll={getjQuery:function(){return e}},n.nicescroll||(n.nicescroll=new z,n.nicescroll.options=w)});
